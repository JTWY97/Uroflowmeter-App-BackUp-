#:import WelcomePage Adapter.WelcomePage.WelcomePage
#:import DoctorHomePage Adapter.DoctorHomePage.DoctorHomePage
#:import PatientHomePage Adapter.PatientHomePage.PatientHomePage
#:import SymptomTracker Adapter.SymptomTracker.SymptomTracker
#:import FluidIntake Adapter.FluidIntake.FluidIntake
#:import PatientList Adapter.PatientList.PatientList
#:import BladderDiary Adapter.BladderDiary.BladderDiary
#:import Doctor_LogIn Adapter.Doctor_LogIn.Doctor_LogIn
#:import Patient_LogIn Adapter.Patient_LogIn.Patient_LogIn
#:import NewUser_Doctor Adapter.NewUser_Doctor.NewUser_Doctor
#:import NewUser_Patient Adapter.NewUser_Patient.NewUser_Patient

ScreenManager:
    id: screen_manager
    WelcomePage:
        id: WelcomePage
        name: "WelcomePage"

    Doctor_LogIn:
        ##1
        id: Doctor_LogIn
        name: "Doctor_LogIn"
        debug: True
        remember_user: True
        require_email_verification: False
        web_api_key: "AIzaSyBE439nHksT0x_MZ7gaD7rx3GwJh8VIBTM"
        on_login_success:
            if self.login_state == 'in': screen_manager.current = 'DoctorHomePage'
            if self.login_state == 'in': print("User has logged in. Unique identifier is ", self.localId)
            if self.login_state == 'in': app.local_id_doctor = self.localId
            if self.login_state == 'in': app.user_idToken_doctor = self.idToken
            if self.login_state == 'in': app.UserID_Doctor = self.UserID
    
    NewUser_Doctor:
        ##2
        id: NewUser_Doctor
        name: "NewUser_Doctor"
        debug: True
        remember_user: True
        require_email_verification: False
        web_api_key: "AIzaSyBE439nHksT0x_MZ7gaD7rx3GwJh8VIBTM"
        on_login_success:
            if self.login_state == 'in': screen_manager.current = 'DoctorHomePage'
            if self.login_state == 'in': print("User has logged in. Unique identifier is ", self.localId)
            if self.login_state == 'in': app.local_id_doctor = self.localId
            if self.login_state == 'in': app.user_idToken_doctor = self.idToken

    DoctorHomePage:
        ##3
        id: DoctorHomePage
        name: "DoctorHomePage"

    NewUser_Patient:
        ##4
        id: NewUser_Patient
        name: "NewUser_Patient"
        debug: True
        remember_user: False
        require_email_verification: False
        web_api_key: "AIzaSyBE439nHksT0x_MZ7gaD7rx3GwJh8VIBTM"
        on_login_success:
            if self.login_state == 'in': screen_manager.current = 'DoctorHomePage'
            if self.login_state == 'in': print("User has logged in. Unique identifier is ", self.localId)
            if self.login_state == 'in': app.local_id_doctor = self.localId
            if self.login_state == 'in': app.user_idToken_doctor = self.idToken

    Patient_LogIn:
        ##5
        id: Patient_LogIn
        name: "Patient_LogIn"
        debug: True
        remember_user: True
        require_email_verification: False
        web_api_key: "AIzaSyBE439nHksT0x_MZ7gaD7rx3GwJh8VIBTM"
        on_login_success:
            if self.login_state == 'in': screen_manager.current = 'PatientHomePage'
            if self.login_state == 'in': print("User has logged in. Unique identifier is ", self.localId)
            if self.login_state == 'in': app.local_id_patient = self.localId
            if self.login_state == 'in': app.user_idToken_patient = self.idToken

    PatientHomePage:
        ##6
        id: PatientHomePage
        name: "PatientHomePage"

    SymptomTracker:
        ##7
        id: SymptomTracker
        name: "SymptomTracker"
        on_enter:
            SymptomTracker.GetSetupData()

    FluidIntake:
        ##8
        id: FluidIntake
        name: "FluidIntake"
        on_enter:
            FluidIntake.FluidDrankLabel()
    
    PatientList:
        ##9
        id: PatientList
        name: "PatientList"
        on_enter:
            PatientList.BuildButton()

    BladderDiary:
        ##10
        id: BladderDiary
        name: "BladderDiary"
        on_enter:
            BladderDiary.GetDaysAndRaspberryPiID()
            # BladderDiary.ShowSummary("day 1")
            # BladderDiary.BuildTimeline("day 1")
    # P:
    #     ##10
    #     id: P
    #     name: "P"